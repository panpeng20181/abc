<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
    <title> 通过js保存图片到本地 </title>
    <meta name="Generator" content="EditPlus">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">

    <script src="Scripts/jquery-3.3.1.js"></script>
</head>


<body>
    <input type="button" value="download image" onclick="DownLoadReportIMG('http://caibaojian.com/d/uploads/2017/07/weixin-mini2.png');">
</body>
</html>
<script>
    function DownLoadReportIMG(imgPathURL) {

        //如果隐藏IFRAME不存在，则添加
        if (!document.getElementById("IframeReportImg"))
            $('<iframe style="display:none;" id="IframeReportImg" name="IframeReportImg" onload="DoSaveAsIMG();" width="0" height="0" src="about:blank"></iframe>').appendTo("body");
        if (document.all.IframeReportImg.src != imgPathURL) {
            //加载图片
            document.all.IframeReportImg.src = imgPathURL;
        }
        else {
            //图片直接另存为
            DoSaveAsIMG();
        }
    }
    function DoSaveAsIMG() {
        if (document.all.IframeReportImg.src != "about:blank")
            document.frames("IframeReportImg").document.execCommand("SaveAs");
    }
</script>